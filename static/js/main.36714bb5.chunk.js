(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t,n){},75:function(e,t,n){e.exports=n(76)},76:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n.n(r),i=n(28),o=n(68),s=n(69),c=n(73),u=n(70),p=n(74),f=n(24),d=n.n(f),l=n(71),v=n(72),h=(n(167),500),m=.5,b=16,w=!0,g=300,x=.5,j=40,k=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),p=0;p<r;p++)s[p]=arguments[p];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={top:j,left:j,oldTop:j,oldLeft:j},n.componentDidMount=Object(i.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a(x);case 2:n.net=e.sent,n.initCapture();case 4:case"end":return e.stop()}},e,this)})),n.isMobile=function(){var e=/Android/i.test(navigator.userAgent),t=/iPhone|iPad|iPod/i.test(navigator.userAgent);return e||t},n.loadVideo=function(){var e=Object(i.a)(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setupCamera(t);case 2:return(r=e.sent).play(),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.setupCamera=function(){var e=Object(i.a)(a.a.mark(function e(t){var r,i,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.width=g,t.height=g,!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=11;break}return r=n.isMobile(),e.next=6,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:r?void 0:g,height:r?void 0:g}});case 6:return i=e.sent,t.srcObject=i,e.abrupt("return",new Promise(function(e){t.onloadedmetadata=function(){e(t)}}));case 11:return o="This browser does not support video capture, or this device does not have a camera",alert(o),e.abrupt("return",Promise.reject(o));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.setRef=function(){var e=Object(i.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.videoElement=t;case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.initCapture=function(){n.timeout=setTimeout(n.capture,h)},n.capture=Object(i.a)(a.a.mark(function e(){var t,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.videoElement&&n.net){e.next=3;break}return n.initCapture(),e.abrupt("return");case 3:if(n.video||!n.videoElement){e.next=7;break}return e.next=6,n.loadVideo(n.videoElement);case 6:n.video=e.sent;case 7:return e.next=9,n.net.estimateSinglePose(n.video,m,w,b);case 9:(r=e.sent)&&r.keypoints&&(t=r.keypoints.filter(function(e){return"nose"===e.part})[0]),t&&n.setState({top:100*t.position.y/g,left:100*t.position.x/g,oldTop:n.state.top,oldLeft:n.state.left}),n.initCapture();case 13:case"end":return e.stop()}},e,this)})),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={position:"absolute",transitionDuration:"2s",top:"".concat(this.state.top,"%"),left:"".concat(this.state.left,"%")},t=this.state.oldLeft>this.state.left;return d.a.createElement("div",{className:"fish-tank"},d.a.createElement("video",{className:"video",playsInline:!0,ref:this.setRef}),d.a.createElement("img",{width:"200px",style:e,className:t?"mirror":"",src:"https://aralroca.github.io/fishFollow-posenet-tfjs/fish.gif"}))}}]),t}(f.Component);Object(l.render)(d.a.createElement(k,null),document.getElementById("root"))},95:function(e,t){}},[[75,2,1]]]);
//# sourceMappingURL=main.36714bb5.chunk.js.map